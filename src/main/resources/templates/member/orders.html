<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/main_layout}">

<!-- index.html 고유 CSS 추가 -->
<th:block layout:fragment="css">
  <link href="/css/order.css" rel="stylesheet">
</th:block>

<th:block layout:fragment="script">
  <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
  <script src="/js/address.js"></script>
</th:block>


<div layout:fragment="content" class="container">
  <main>
    <h4 class="fw-normal ms-2 mb-5">주문 / 결제</h4>
    <form action="" method="post">
      <div class="row">
        <div class="col-md-9 mb-4">
          <div class="container border rounded-3 mb-4">
            <table class="table table-borderless text-center align-middle" id="book_table">
              <thead>
              <tr>
                <th scope="col" style="width: 20%">이미지</th>
                <th scope="col" style="width: 30%">제목</th>
                <th scope="col">정가</th>
                <th scope="col">판매가</th>
                <th scope="col">수량</th>
                <th scope="col">총 액</th>
              </tr>
              </thead>
              <tbody>
              <tr th:each="book : ${orderBooks}" class="border-top">
                <td style="width: auto"><img
                    src="https://contents.kyobobook.co.kr/sih/fit-in/458x0/pdt/9791169780285.jpg"
                    style="max-width: 100%; height: auto; padding: 10%" alt="책 이미지"></td>
                <td th:text="${book.bookTitle}"></td>
                <td th:text="${#numbers.formatInteger(book.regularPrice, 1, 'COMMA')} + '원'"></td>
                <td th:text="${#numbers.formatInteger(book.price, 1, 'COMMA')} + '원'"></td>
                <td th:text="${#numbers.formatInteger(book.amount, 1, 'COMMA')} + '개'"></td>
                <td th:text="${#numbers.formatInteger(book.price * book.amount, 1, 'COMMA')} + '원'"></td>
              </tr>
              </tbody>
            </table>
          </div>
          <div class="p-3 border rounded-3 mb-4">
            <h4 class="fw-normal">수취인 정보</h4>
            <div class="mb-2 float-end">
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="inlineRadioOptions"
                       id="addressRadio1" value="option1" checked>
                <label class="form-check-label" for="addressRadio1">새로 입력</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="inlineRadioOptions"
                       id="addressRadio2" value="option2">
                <label class="form-check-label" for="addressRadio2">주소록 선택</label>
              </div>
            </div>
            <input type="text" class="form-control mb-2" id="receiver" placeholder="이름">
            <input type="text" class="form-control mb-2" id="receiverNumber" placeholder="전화번호">
            <div class="input-group mb-2">
              <input type="text" class="form-control" id="zipCode" placeholder="우편번호">
              <button class="btn btn-outline-secondary" type="button" onclick="execDaumPostcode()">
                우편번호 찾기
              </button>
            </div>
            <input type="text" class="form-control mb-2" id="address" placeholder="도로명주소">
            <input type="text" class="form-control" id="detailAddress" placeholder="상세주소">
          </div>
          <div class="p-3 border rounded-3 mb-4">
            <h4 class="fw-normal mb-5">발송인 정보</h4>
            <input type="text" class="form-control mb-2" id="orderer" placeholder="이름">
            <input type="text" class="form-control mb-2" id="ordererNumber" placeholder="전화번호">
            <input type="email" class="form-control" id="ordererEmail" placeholder="이메일">
          </div>
          <div class="p-3 border rounded-3 mb-4">
            <h4 class="fw-normal">쿠폰 할인</h4>
          </div>
          <div class="p-3 border rounded-3 mb-4">
            <h4 class="fw-normal">포인트 사용</h4>
          </div>
        </div>
        <div class="col-md-3 mb-4">
          <div class="position-sticky position-webkit-sticky" style="top: 11em">
            <div class="p-3 border rounded-3 mb-2">
              <h4 class="fw-normal">결제정보</h4>
              <table class="table table-borderless" id="pay_table">
                <tr>
                  <th>상품 금액</th>
                  <td>250,000원</td>
                </tr>
                <tr>
                  <th scope="col">배송비
                  </th>
                  <td>+5,000원</td>
                </tr>
                <tr>
                  <th scope="col">포장비</th>
                  <td>+2,000원</td>
                </tr>
                <tr>
                  <th scope="col">상품 할인</th>
                  <td>-17,000원</td>
                </tr>
                <tr>
                  <th scope="col">쿠폰 할인</th>
                  <td>-5,000원</td>
                </tr>
                <tr>
                  <th scope="col">사용 포인트</th>
                  <td>0P</td>
                </tr>
                <tr class="border-top">
                  <th scope="col">결제 금액</th>
                  <td>20,000원</td>
                </tr>
              </table>
              <button class="btn btn-outline-success btn-lg w-100">결제</button>
            </div>
          </div>
        </div>
      </div>
    </form>
  </main>
</div>


</html>