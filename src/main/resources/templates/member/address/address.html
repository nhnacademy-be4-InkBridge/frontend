<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>배송지 관리</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
        crossorigin="anonymous">
</head>
<body>
<div class="container my-5">
  <h2 class="mb-4">배송지 관리</h2>

  <!-- 새 주소 등록 -->
  <div class="mb-3">
    <form th:action="@{/api/mypage/address/register}" method="get">
      <!-- 주소 입력 필드들 -->
      <button type="submit" class="btn btn-primary">새 주소 등록</button>
    </form>
  </div>

  <!-- 주소 리스트 -->
  <div th:each="address : ${addressList}">
    <div class="card mb-3">
      <div class="card-body">
        <h5 class="card-title" th:text="${address.alias}">별칭</h5>
        <p class="card-text">
          <span th:text="${address.zipCode}">우편번호</span>,
          <span th:text="${address.address}">기본 주소</span>,
          <span th:text="${address.addressDetail}">상세 주소</span>
        </p>
        <p class="card-text">
          <span th:text="${address.receiverName}">받는 사람</span>,
          <span th:text="${address.receiverNumber}">전화번호</span>
        </p>
        <!-- 히든 필드로 addressId 전송 -->
        <form th:action="@{/api/mypage/address/delete/{id}(id=${address.addressId})}" method="post" class="d-inline">
          <button type="submit" class="btn btn-danger">삭제</button>
        </form>
        <button type="button" class="btn btn-secondary" th:onclick="'location.href=\'/api/mypage/address/update/' + ${address.addressId} + '\''">수정</button>
      </div>
    </div>
  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
